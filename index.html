<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ù‡Ø¨Ø§Ù† - Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø·Ù…Ø¦Ù† Ø¨Ø±Ø§ÛŒ ØªØµÙ…ÛŒÙ… Ù‡Ø§ÛŒ Ù…Ù‡Ù…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        /* --- THEME VARIABLES --- */
        :root {
            --bg-color: #f7fafc;
            --text-color-primary: #151450;
            --text-color-secondary: #4a5568;
            --card-bg-color: #ffffff;
            --border-color: #e2e8f0;
            --header-bg: rgba(255, 255, 255, 0.8);
        }

        html.dark {
            --bg-color: #1a202c;
            --text-color-primary: #e2e8f0;
            --text-color-secondary: #a0aec0;
            --card-bg-color: #2d3748;
            --border-color: #4a5568;
            --header-bg: rgba(26, 32, 44, 0.8);
        }

        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color-secondary);
            transition: background-color 0.3s, color 0.3s;
        }
        html {
            scroll-behavior: smooth;
        }
        section[id] {
            scroll-margin-top: 80px; 
        }
        .hero-bg {
            background-image: url('https://omidajamloo.github.io/telegram/images/header-bg.jpg');
            background-size: cover;
            background-position: center center;
            position: relative;
        }
        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            background-color: rgba(21, 20, 80, 0.75);
            z-index: 1;
        }
        .content-z {
            position: relative;
            z-index: 2;
        }
        .primary-color { color: var(--text-color-primary); }
        .bg-primary-color { background-color: #151450; }
        .hover-bg-primary-color:hover { background-color: #0d0c3a; }
        .accent-color { color: #F06F11; }
        .bg-accent-color { background-color: #F06F11; }
        .hover-bg-accent-color:hover { background-color: #d8630c; }
        
        .service-card {
            background-color: var(--card-bg-color);
            border-radius: 1.25rem;
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s;
            display: flex;
            flex-direction: column;
        }
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .font-en {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        }

        .chat-backdrop {
            position: fixed;
            inset: 0;
            background-color: rgba(21, 20, 80, 0.6);
            backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .chat-backdrop.active {
            opacity: 1;
            pointer-events: auto;
        }

        #ai-chat-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 90vw;
            max-width: 700px;
            height: 85vh;
            max-height: 800px;
            background-color: var(--card-bg-color);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translate(-50%, -50%) scale(0.95);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease, background-color 0.3s;
            z-index: 1000;
            pointer-events: none;
        }
        #ai-chat-modal.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            pointer-events: auto;
        }
        .chat-header {
            background-color: #151450;
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-header h3 {
            font-weight: 700;
        }
        .chat-close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .chat-message {
            padding: 0.75rem 1rem;
            border-radius: 18px;
            max-width: 80%;
            line-height: 1.6;
        }
        .user-message {
            background-color: #F06F11;
            color: white;
            border-bottom-right-radius: 4px;
            align-self: flex-end;
        }
        .ai-message {
            background-color: var(--border-color);
            color: var(--text-color-primary);
            border-bottom-left-radius: 4px;
            align-self: flex-start;
        }
        .chat-input-form {
            display: flex;
            padding: 0.75rem;
            border-top: 1px solid var(--border-color);
            direction: rtl;
        }
        .chat-input-form input {
            flex-grow: 1;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            background-color: var(--bg-color);
            color: var(--text-color-primary);
        }
        .chat-input-form button {
            background-color: #151450;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .typing-indicator {
            align-self: flex-start;
            padding: 0.75rem 1rem;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body>

    <header class="backdrop-blur-sm sticky top-0 z-50 shadow-sm" style="background-color: var(--header-bg); transition: background-color 0.3s;">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <a href="#" class="font-extrabold text-2xl primary-color">Ø±Ù‡Ø¨Ø§Ù†</a>
            <div class="hidden md:flex items-center space-x-6 space-x-reverse">
                <a href="#services" class="font-semibold" style="color: var(--text-color-secondary); transition: color 0.3s;">Ø®Ø¯Ù…Ø§Øª</a>
                <a href="#process" class="font-semibold" style="color: var(--text-color-secondary); transition: color 0.3s;">ÙØ±Ø¢ÛŒÙ†Ø¯ Ú©Ø§Ø±</a>
                <a href="#ai-assistant" class="font-semibold" style="color: var(--text-color-secondary); transition: color 0.3s;">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯</a>
                <a href="#calculator" class="font-semibold" style="color: var(--text-color-secondary); transition: color 0.3s;">Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨</a>
                <a href="#contact" class="font-semibold" style="color: var(--text-color-secondary); transition: color 0.3s;">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a>
                
                <!-- Theme Toggle Button -->
                <button id="theme-toggle" class="p-2 rounded-full" style="color: var(--text-color-secondary);">
                    <svg id="theme-toggle-sun-icon" class="w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 5.05A1 1 0 003.636 6.464l.707.707a1 1 0 001.414-1.414l-.707-.707zM3 11a1 1 0 100-2H2a1 1 0 100 2h1zM6.464 16.364l-.707.707a1 1 0 001.414 1.414l.707-.707a1 1 0 00-1.414-1.414z"></path></svg>
                    <svg id="theme-toggle-moon-icon" class="hidden w-6 h-6" fill="currentColor" viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z"></path></svg>
                </button>
            </div>
            <button id="menu-btn" class="md:hidden primary-color">
                <svg class="w-7 h-7" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
            </button>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pt-2 pb-4 border-t" style="background-color: var(--header-bg); border-color: var(--border-color); transition: background-color 0.3s;">
              <a href="#services" class="block py-2 font-semibold" style="color: var(--text-color-secondary);">Ø®Ø¯Ù…Ø§Øª</a>
              <a href="#process" class="block py-2 font-semibold" style="color: var(--text-color-secondary);">ÙØ±Ø¢ÛŒÙ†Ø¯ Ú©Ø§Ø±</a>
              <a href="#ai-assistant" class="block py-2 font-semibold" style="color: var(--text-color-secondary);">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯</a>
              <a href="#calculator" class="block py-2 font-semibold" style="color: var(--text-color-secondary);">Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨</a>
              <a href="#contact" class="block py-2 font-semibold" style="color: var(--text-color-secondary);">ØªÙ…Ø§Ø³ Ø¨Ø§ Ù…Ø§</a>
        </div>
    </header>

    <main>
        <section id="hero" class="hero-bg min-h-screen flex items-center justify-center">
            <div class="container mx-auto px-6 py-24 text-center content-z">
                <h1 class="text-4xl md:text-5xl lg:text-6xl font-extrabold text-white mb-4">Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø·Ù…Ø¦Ù† Ø¨Ø±Ø§ÛŒ ØªØµÙ…ÛŒÙ…â€ŒÙ‡Ø§ÛŒ Ù…Ù‡Ù…</h1>
                <p class="text-lg md:text-xl text-gray-300 max-w-4xl mx-auto mb-8">Ú¯Ø±ÙˆÙ‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù† Ø¨Ø§ ØªØ®ØµØµ ÙˆÛŒÚ˜Ù‡ Ø¯Ø± Ø§Ù…ÙˆØ± Ø­Ù‚ÙˆÙ‚ÛŒØŒ Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒØŒ Ø§Ø¯Ø§Ø±ÛŒ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù†Ø³Ø§Ù†ÛŒØŒ Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ù…Ø·Ù…Ø¦Ù† Ø¨Ø±Ø§ÛŒ Ù¾ÛŒØ´Ø¨Ø±Ø¯ Ø§Ù‡Ø¯Ø§Ù Ùˆ Ú©Ø§Ù‡Ø´ Ø±ÛŒØ³Ú©â€ŒÙ‡Ø§ÛŒ ÙˆØ§Ø­Ø¯Ù‡Ø§ÛŒ ØµÙ†Ø¹ØªÛŒ Ùˆ ØªÙˆÙ„ÛŒØ¯ÛŒ Ø§Ø³Øª.</p>
                <a href="#services" class="bg-accent-color text-white font-bold py-3 px-8 rounded-lg text-lg hover-bg-accent-color transition-colors shadow-lg">Ø¢Ø´Ù†Ø§ÛŒÛŒ Ø¨Ø§ Ø®Ø¯Ù…Ø§Øª</a>
            </div>
        </section>

        <section id="services" class="py-20" style="background-color: var(--card-bg-color); transition: background-color 0.3s;">
            <div class="container mx-auto px-6">
                <div class="text-center mb-16">
                    <h2 class="text-3xl md:text-4xl font-extrabold mb-3 primary-color">Ø®Ù„Ø§ØµÙ‡ Ø®Ø¯Ù…Ø§Øª Ø±Ù‡Ø¨Ø§Ù†</h2>
                    <p class="text-lg" style="color: var(--text-color-secondary);">Ø¨Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±Ø§Ù‡ Ø­Ù„ Ùˆ ØªØ¯Ø§Ø¨ÛŒØ±ØŒ ÛŒØ§Ø±ÛŒâ€ŒÚ¯Ø± Ø´Ù…Ø§ Ù‡Ø³ØªÛŒÙ….</p>
                </div>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto">
                    <div class="service-card">
                        <h3 class="text-2xl font-bold mb-4 primary-color">Ø§Ù…ÙˆØ± Ø­Ù‚ÙˆÙ‚ÛŒ</h3>
                        <ul class="space-y-2 list-disc list-inside" style="color: var(--text-color-secondary);">
                            <li>Ú©Ø§Ø±Ø´Ù†Ø§Ø³ÛŒ Ø­Ù‚ÙˆÙ‚ÛŒ ØªØ®ØµØµÛŒ (ØªØ¬Ø§Ø±ØªØŒ Ú©Ø§Ø±ØŒ ØªØ£Ù…ÛŒÙ† Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ)</li>
                            <li>ØªØ¯ÙˆÛŒÙ† Ùˆ ØªÙ†Ø¸ÛŒÙ… Ø§Ù†ÙˆØ§Ø¹ Ø§Ø³Ù†Ø§Ø¯ Ø­Ù‚ÙˆÙ‚ÛŒ (Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯ØŒ ØµÙˆØ±ØªØ¬Ù„Ø³Ù‡)</li>
                            <li>Ù†Ù…Ø§ÛŒÙ†Ø¯Ú¯ÛŒ Ø¯Ø± Ø¯Ø¹Ø§ÙˆÛŒ Ú©Ø§Ø±Ú¯Ø± Ùˆ Ú©Ø§Ø±ÙØ±Ù…Ø§ Ø¯Ø± Ø§Ø¯Ø§Ø±Ù‡ Ú©Ø§Ø±</li>
                            <li>Ù…ØµØ§Ù„Ø­Ù‡ Ùˆ Ø¯Ø§ÙˆØ±ÛŒ Ø¬Ù‡Øª Ø¬Ù„ÙˆÚ¯ÛŒØ±ÛŒ Ø§Ø² ÙØ±Ø¢ÛŒÙ†Ø¯ Ø¯Ø§Ø¯Ø±Ø³ÛŒ</li>
                        </ul>
                    </div>
                    <div class="service-card">
                        <h3 class="text-2xl font-bold mb-4 primary-color">Ø§Ù…ÙˆØ± Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ</h3>
                         <ul class="space-y-2 list-disc list-inside" style="color: var(--text-color-secondary);">
                            <li>Ø§Ø®Ø° Ùˆ ØªØ¯ÙˆÛŒÙ† Ø·Ø±Ø­ ØªÙˆØ¬ÛŒÙ‡ÛŒ Ùˆ Ú¯ÙˆØ§Ù‡ÛŒ ØªÙˆÙ„ÛŒØ¯</li>
                            <li>Ø§Ù†Ø¬Ø§Ù… ÙØ±Ø¢ÛŒÙ†Ø¯Ù‡Ø§ÛŒ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ Ùˆ Ø§Ø¸Ù‡Ø§Ø± Ú¯Ù…Ø±Ú©ÛŒ</li>
                            <li>ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ Ø¨Ø§ ØªØ®ØµØµ Ø¯Ø± Ù…Ù†Ø§Ø·Ù‚ ÙˆÛŒÚ˜Ù‡ (Ù…Ø§Ù†Ù†Ø¯ Ø³Ù„ÙÚ†Ú¯Ø§Ù†)</li>
                            <li>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ùˆ Ø¨Ø±Ø±Ø³ÛŒ ØªØ¹Ø±ÙÙ‡ Ú©Ø§Ù„Ø§ (HS Code)</li>
                        </ul>
                    </div>
                    <div class="service-card">
                        <h3 class="text-2xl font-bold mb-4 primary-color">Ø¬Ø°Ø¨ Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù… | Ø§Ù…ÙˆØ± Ø§Ø¯Ø§Ø±ÛŒ</h3>
                        <ul class="space-y-2 list-disc list-inside" style="color: var(--text-color-secondary);">
                            <li>Ø§ÛŒØ¬Ø§Ø¯ Ù¾Ù„ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ù…ÙˆØ«Ø± Ø¨ÛŒÙ† Ú©Ø§Ø±ÙØ±Ù…Ø§ÛŒØ§Ù† Ùˆ Ù†ÛŒØ±ÙˆÙ‡Ø§ÛŒ Ù…ØªØ®ØµØµ</li>
                            <li>ØªØ£Ù…ÛŒÙ† Ù†ÛŒØ±ÙˆÛŒ Ø§Ù†Ø³Ø§Ù†ÛŒ Ù…ØªØ¹Ù‡Ø¯ Ùˆ ØªÙˆØ§Ù†Ù…Ù†Ø¯</li>
                            <li>Ø§Ù†Ø¬Ø§Ù… Ø§Ù…ÙˆØ± Ø¨ÛŒÙ…Ù‡â€ŒØ§ÛŒ (ØªØ£Ù…ÛŒÙ† Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ Ùˆ Ø¨ÛŒÙ…Ù‡ ØªÚ©Ù…ÛŒÙ„ÛŒ)</li>
                        </ul>
                    </div>
                    <div class="service-card">
                        <h3 class="text-2xl font-bold mb-4 primary-color">Ø­Ø³Ø§Ø¨Ø±Ø³ÛŒØŒ Ù…Ø§Ù„ÛŒØ§Øª Ùˆ Ø§Ù…ÙˆØ± Ø¨Ø§Ù†Ú©ÛŒ</h3>
                        <ul class="space-y-2 list-disc list-inside" style="color: var(--text-color-secondary);">
                            <li>Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¨Ø§ Ù…Ø¹ØªØ¨Ø±ØªØ±ÛŒÙ† Ø´Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø­Ø³Ø§Ø¨Ø±Ø³ÛŒ</li>
                            <li>Ú©Ø§Ù‡Ø´ Ø±ÛŒØ³Ú© Ø¬Ø±Ø§Ø¦Ù… Ù…Ø§Ù„ÛŒØ§ØªÛŒ Ùˆ Ø¨ÛŒÙ…Ù‡â€ŒØ§ÛŒ</li>
                            <li>Ø§Ø®Ø° Ø¶Ù…Ø§Ù†Øªâ€ŒÙ†Ø§Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ù†Ú©ÛŒ Ùˆ Ø§Ø¹ØªØ¨Ø§Ø±Ø§Øª Ø§Ø³Ù†Ø§Ø¯ÛŒ (LC)</li>
                        </ul>
                    </div>
                </div>
            </div>
        </section>
        
        <section id="process" class="py-20">
            <div class="container mx-auto px-6">
               <div class="text-center mb-16">
                   <h2 class="text-3xl md:text-4xl font-extrabold mb-3 primary-color">ÙØ±Ø¢ÛŒÙ†Ø¯ Ø¢Ù†Ø§Ù„ÛŒØ² Ø±ÛŒØ³Ú© Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± Ø´Ù…Ø§</h2>
                   <p class="text-lg" style="color: var(--text-color-secondary);">ÛŒÚ© Ù…Ø³ÛŒØ± Ø´ÙØ§Ù Ûµ Ù…Ø±Ø­Ù„Ù‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ùˆ Ø±ÙØ¹ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ù¾ÛŒØ´ Ø±ÙˆÛŒ Ø´Ù…Ø§.</p>
               </div>
               <div class="relative max-w-4xl mx-auto">
                   <div class="grid grid-cols-1 md:grid-cols-5 gap-8">
                       <div class="text-center relative"><div class="bg-primary-color text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4 z-10 relative">Û±</div><h4 class="font-bold primary-color">Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ùˆ Ø¹Ø§Ø±Ø¶Ù‡â€ŒÛŒØ§Ø¨ÛŒ</h4><p class="text-sm">Ø¨Ø§Ø²Ø¯ÛŒØ¯ Ø­Ø¶ÙˆØ±ÛŒ Ùˆ Ø§Ø±Ø§Ø¦Ù‡ Ú¯Ø²Ø§Ø±Ø´ Ø§ÙˆÙ„ÛŒÙ‡</p></div>
                       <div class="text-center relative"><div class="bg-primary-color text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4 z-10 relative">Û²</div><h4 class="font-bold primary-color">ØªØ­Ù„ÛŒÙ„ Ø¯Ø§Ø¯Ù‡ Ùˆ Ø§Ø³Ù†Ø§Ø¯</h4><p class="text-sm">Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¯Ø§Ø±Ú© Ùˆ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø§ÛŒØ±Ø§Ø¯Ø§Øª</p></div>
                       <div class="text-center relative"><div class="bg-primary-color text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4 z-10 relative">Û³</div><h4 class="font-bold primary-color">Ø§Ø±Ø§Ø¦Ù‡ Ø±Ø§Ù‡Ú©Ø§Ø±</h4><p class="text-sm">Ú¯Ø²Ø§Ø±Ø´ Ø«Ø§Ù†ÙˆÛŒÙ‡ Ùˆ Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ÛŒ</p></div>
                       <div class="text-center relative"><div class="bg-primary-color text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4 z-10 relative">Û´</div><h4 class="font-bold primary-color">Ø§Ø¬Ø±Ø§ Ùˆ Ù†Ù…Ø§ÛŒÙ†Ø¯Ú¯ÛŒ</h4><p class="text-sm">Ø±ÙØ¹ Ø§ÛŒØ±Ø§Ø¯Ø§Øª Ùˆ Ø§Ø®Ø° Ù…Ø¬ÙˆØ²Ù‡Ø§</p></div>
                       <div class="text-center relative"><div class="bg-primary-color text-white w-16 h-16 rounded-full flex items-center justify-center text-2xl font-bold mx-auto mb-4 z-10 relative">Ûµ</div><h4 class="font-bold primary-color">Ù¾Ø´ØªÛŒØ¨Ø§Ù†ÛŒ Ùˆ Ù¾ÛŒÚ¯ÛŒØ±ÛŒ</h4><p class="text-sm">Ù¾ÛŒÚ¯ÛŒØ±ÛŒ Ù…Ø³ØªÙ…Ø± Ø§Ù…ÙˆØ± Ø§Ø¬Ø±Ø§ÛŒÛŒ</p></div>
                   </div>
               </div>
            </div>
       </section>
        
        <section id="ai-assistant" class="py-20" style="background-color: var(--card-bg-color); transition: background-color 0.3s;">
            <div class="container mx-auto px-6 text-center">
                <h2 class="text-3xl md:text-4xl font-extrabold mb-3 primary-color">Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ù‡Ø¨Ø§Ù†</h2>
                <p class="text-lg max-w-2xl mx-auto mb-8" style="color: var(--text-color-secondary);">Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù¾ÛŒØ´â€ŒÙ†ÙˆÛŒØ³â€ŒÙ‡Ø§ÛŒ Ø­Ù‚ÙˆÙ‚ÛŒØŒ ØªØ­Ù„ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ ÛŒØ§ Ù¾Ø§Ø³Ø® Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª Ù…ØªØ¯Ø§ÙˆÙ„ Ø®ÙˆØ¯ØŒ Ø§Ø² Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ù…Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯.</p>
                <button id="ai-modal-toggle" class="bg-accent-color text-white font-bold py-3 px-8 rounded-lg text-lg hover-bg-accent-color transition-colors shadow-lg">
                    âœ¨ Ø´Ø±ÙˆØ¹ Ú¯ÙØªÚ¯Ùˆ Ø¨Ø§ Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯
                </button>
            </div>
        </section>

        <section id="calculator" class="py-20">
            <div class="container mx-auto px-6">
                <div class="text-center mb-12">
                    <h2 class="text-3xl md:text-4xl font-extrabold mb-3 primary-color">Ù…Ø§Ø´ÛŒÙ† Ø­Ø³Ø§Ø¨ Ú¯Ù…Ø±Ú©ÛŒ</h2>
                    <p class="text-lg" style="color: var(--text-color-secondary);">Ù‡Ø²ÛŒÙ†Ù‡ Ù‡Ø§ÛŒ ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¬Ø§Ù…Ø¹ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ú©Ù†ÛŒØ¯.</p>
                </div>
                <div class="max-w-3xl mx-auto p-8 rounded-2xl shadow-lg" style="background-color: var(--card-bg-color); border: 1px solid var(--border-color); transition: background-color 0.3s;">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="goods-value" class="block font-semibold mb-2 primary-color">Ø§Ø±Ø²Ø´ Ú©Ø§Ù„Ø§ (Ø¨Ù‡ Ø¯Ù„Ø§Ø±)</label>
                            <input type="text" id="goods-value" inputmode="numeric" class="w-full p-3 border rounded-md focus:ring-2 focus:ring-indigo-300 text-left" dir="ltr" placeholder="e.g., 15000" style="background-color: var(--bg-color); border-color: var(--border-color); color: var(--text-color-primary);">
                        </div>
                        <div>
                             <label for="exchange-rate" class="block font-semibold mb-2 primary-color">Ù†Ø±Ø® Ø§Ø±Ø² (Ø¨Ù‡ Ø±ÛŒØ§Ù„)</label>
                            <input type="text" id="exchange-rate" inputmode="numeric" class="w-full p-3 border rounded-md focus:ring-2 focus:ring-indigo-300 text-left" dir="ltr" placeholder="e.g., 420000" style="background-color: var(--bg-color); border-color: var(--border-color); color: var(--text-color-primary);">
                        </div>
                    </div>
                    <button id="calculate-btn" class="w-full bg-accent-color hover-bg-accent-color text-white font-bold py-3 px-5 rounded-lg mt-6 transition-colors text-lg">Ù…Ø­Ø§Ø³Ø¨Ù‡</button>
                    <div id="result-area" class="mt-8 hidden">
                        <div class="border-t pt-6" style="border-color: var(--border-color);">
                            <h3 class="text-xl font-bold text-center mb-4 primary-color">Ø¬Ø²Ø¦ÛŒØ§Øª Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ (Ø¨Ù‡ Ø±ÛŒØ§Ù„)</h3>
                            <div class="space-y-3 text-lg">
                                <div class="flex justify-between items-center p-3 rounded-md" style="background-color: var(--bg-color);"><span class="font-semibold primary-color">Ø§Ø±Ø²Ø´ Ø±ÛŒØ§Ù„ÛŒ Ú©Ø§Ù„Ø§:</span><span id="result-goods-value-rial" class="font-bold font-en primary-color"></span></div>
                                <div class="flex justify-between items-center p-3"><span>Ú©Ø±Ø§ÛŒÙ‡:</span><span id="result-freight" class="font-bold font-en"></span></div>
                                <div class="flex justify-between items-center p-3 rounded-md" style="background-color: var(--bg-color);"><span>Ø¨ÛŒÙ…Ù‡:</span><span id="result-insurance" class="font-bold font-en"></span></div>
                                <div class="flex justify-between items-center p-3 font-bold primary-color border-t border-b" style="border-color: var(--border-color);"><span>Ø§Ø±Ø²Ø´ CIF:</span><span id="result-cif" class="font-en"></span></div>
                                <div class="flex justify-between items-center p-3"><span>Ù¾Ø³Ù…Ø§Ù†Ø¯:</span><span id="result-waste" class="font-bold font-en"></span></div>
                                <div class="flex justify-between items-center p-3 rounded-md" style="background-color: var(--bg-color);"><span>Ø­Ù‚ÙˆÙ‚ ÙˆØ±ÙˆØ¯ÛŒ:</span><span id="result-duty" class="font-bold font-en"></span></div>
                                <div class="flex justify-between items-center p-3"><span>Ù‡Ù„Ø§Ù„ Ø§Ø­Ù…Ø± (Û±Ùª Ø­Ù‚ÙˆÙ‚ ÙˆØ±ÙˆØ¯ÛŒ):</span><span id="result-red-crescent" class="font-bold font-en"></span></div>
                                <div class="flex justify-between items-center p-3 rounded-md" style="background-color: var(--bg-color);"><span>Ù…Ø§Ù„ÛŒØ§Øª Ø¨Ø± Ø§Ø±Ø²Ø´ Ø§ÙØ²ÙˆØ¯Ù‡:</span><span id="result-vat" class="font-bold font-en"></span></div>
                                <div class="flex justify-between items-center p-4 bg-primary-color text-white rounded-lg mt-4 text-xl"><span class="font-bold">Ø¬Ù…Ø¹ Ú©Ù„ Ù¾Ø±Ø¯Ø§Ø®ØªÛŒ Ú¯Ù…Ø±Ú©:</span><span id="result-total" class="font-extrabold font-en"></span></div>
                            </div>
                            <div class="mt-6 border-t pt-4 text-sm" style="border-color: var(--border-color);">
                                <h4 class="font-bold mb-2 primary-color">ØªÙˆØ¶ÛŒØ­Ø§Øª:</h4>
                                <ul class="list-disc list-inside space-y-1">
                                    <li>Ù…Ø¨Ù„Øº Ú©Ø±Ø§ÛŒÙ‡ Ø¯Ø± Ø§ÛŒÙ† Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù¾Ø±Ø¯Ø§Ø®Øª Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯ Ùˆ ØµØ±ÙØ§Ù‹ Ø¬Ù‡Øª Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù‡Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ÛŒ Ú¯Ù…Ø±Ú©ÛŒ (Ù…Ø§Ù†Ù†Ø¯ Ø¨ÛŒÙ…Ù‡) Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯Ø¯.</li>
                                    <li>Ù‡Ø²ÛŒÙ†Ù‡ Ø¨ÛŒÙ…Ù‡ Ø´Ø§Ù…Ù„ Ù…Ø§Ø¨Ù‡â€ŒØ§Ù„ØªÙØ§ÙˆØª Ù‡Ø²ÛŒÙ†Ù‡ Ø¨ÛŒÙ…Ù‡ Ø¨Ø§Ø±Ø¨Ø±ÛŒ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>
    
    <footer id="contact" class="bg-primary-color text-white">
        <div class="container mx-auto px-6 pt-20 pb-12 text-center">
            <h2 class="text-2xl font-bold mb-4">Ú¯Ø±ÙˆÙ‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù†</h2>
            <p class="max-w-xl mx-auto mb-8 text-gray-300">Ø¨Ø±Ø§ÛŒ Ø¯Ø±ÛŒØ§ÙØª Ù…Ø´Ø§ÙˆØ±Ù‡ Ùˆ Ø´Ø±ÙˆØ¹ Ù‡Ù…Ú©Ø§Ø±ÛŒ Ø¬Ù‡Øª Ø­ÙØ§Ø¸Øª Ø§Ø² Ø¯Ø§Ø±Ø§ÛŒÛŒâ€ŒÙ‡Ø§ÛŒ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±ØªØ§Ù†ØŒ Ø¨Ø§ Ù…Ø§ Ø¯Ø± ØªÙ…Ø§Ø³ Ø¨Ø§Ø´ÛŒØ¯.</p>
            <div class="flex flex-col md:flex-row justify-center items-center gap-6 text-lg">
                <a href="mailto:rahban.group.info@gmail.com" class="font-bold">rahban.group.info@gmail.com</a>
                <span class="hidden md:block">|</span>
                <a href="tel:09128547287" class="font-bold">Û°Û¹Û±Û²Û¸ÛµÛ´Û·Û²Û¸Û·</a>
            </div>
            <p class="mt-6 text-gray-400">Ø¢Ø¯Ø±Ø³: Ù…Ù†Ø·Ù‚Ù‡ ÙˆÛŒÚ˜Ù‡ Ø§Ù‚ØªØµØ§Ø¯ÛŒ Ø³Ù„ÙÚ†Ú¯Ø§Ù† - Ù…ÛŒØ¯Ø§Ù† Ø§Ù…Ø§Ù… Ø®Ù…ÛŒÙ†ÛŒ - Ù…Ø¬ØªÙ…Ø¹ Ø­Ø³ÛŒÙ†ÛŒ - Ù¾Ù„Ø§Ú© 8</p>
            <div class="mt-12 border-t border-gray-700 pt-8">
                 <p class="text-gray-400 text-sm">&copy; Ú©Ù„ÛŒÙ‡ Ø­Ù‚ÙˆÙ‚ Ø§ÛŒÙ† ÙˆØ¨â€ŒØ³Ø§ÛŒØª Ù…ØªØ¹Ù„Ù‚ Ø¨Ù‡ Ú¯Ø±ÙˆÙ‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù† Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯.</p>
            </div>
        </div>
    </footer>

    <!-- AI Chat Modal -->
    <div id="chat-backdrop" class="chat-backdrop hidden"></div>
    <div id="ai-chat-modal" class="hidden">
        <div class="chat-header">
            <h3>Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ù‡Ø¨Ø§Ù†</h3>
            <button class="chat-close-btn">&times;</button>
        </div>
        <div class="chat-messages">
            <div class="chat-message ai-message">Ø³Ù„Ø§Ù…! Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ú©Ù†Ù…ØŸ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡ Ø­Ù‚ÙˆÙ‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± ÛŒØ§ Ø§Ù…ÙˆØ± Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ Ø¨Ù¾Ø±Ø³ÛŒØ¯.</div>
        </div>
        <form class="chat-input-form">
            <input type="text" placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." autocomplete="off">
            <button type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" /></svg>
            </button>
        </form>
    </div>

    <!-- Floating Action Button -->
    <a href="https://forms.gle/cJdyKmKY4Y4HRQHKA" target="_blank" id="fab-google-form" class="hidden fixed bottom-8 right-8 bg-accent-color text-white w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-lg transform hover:scale-110 transition-transform z-40 opacity-80 hover:opacity-100" title="ÙØ±Ù… Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ/Ø¯Ø±Ø®ÙˆØ§Ø³Øª">
        ğŸ“
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- THEME TOGGLE LOGIC ---
            const themeToggleBtn = document.getElementById('theme-toggle');
            const sunIcon = document.getElementById('theme-toggle-sun-icon');
            const moonIcon = document.getElementById('theme-toggle-moon-icon');

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    document.documentElement.classList.add('dark');
                    sunIcon.classList.add('hidden');
                    moonIcon.classList.remove('hidden');
                } else {
                    document.documentElement.classList.remove('dark');
                    sunIcon.classList.remove('hidden');
                    moonIcon.classList.add('hidden');
                }
            };

            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

            if (savedTheme) {
                applyTheme(savedTheme);
            } else if (prefersDark) {
                applyTheme('dark');
            } else {
                applyTheme('light');
            }
            
            themeToggleBtn.addEventListener('click', () => {
                const isDark = document.documentElement.classList.toggle('dark');
                const newTheme = isDark ? 'dark' : 'light';
                localStorage.setItem('theme', newTheme);
                applyTheme(newTheme);
            });

            // --- Mobile Menu ---
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            if (menuBtn && mobileMenu) {
                menuBtn.addEventListener('click', () => mobileMenu.classList.toggle('hidden'));
            }
            document.querySelectorAll('#mobile-menu a, .nav a').forEach(link => {
                link.addEventListener('click', () => {
                    if(window.innerWidth < 768) { 
                        mobileMenu.classList.add('hidden');
                    }
                });
            });

            // --- Calculator Logic ---
            const calculateBtn = document.getElementById('calculate-btn');
            const goodsValueInput = document.getElementById('goods-value');
            const exchangeRateInput = document.getElementById('exchange-rate');
            const resultArea = document.getElementById('result-area');

            function toEnglishDigits(str) {
                if (typeof str !== 'string') return str;
                return str.replace(/[Û°-Û¹]/g, d => 'Û°Û±Û²Û³Û´ÛµÛ¶Û·Û¸Û¹'.indexOf(d)).replace(/[Ù -Ù©]/g, d => 'Ù Ù¡Ù¢Ù£Ù¤Ù¥Ù¦Ù§Ù¨Ù©'.indexOf(d));
            }

            if (calculateBtn) {
                calculateBtn.addEventListener('click', () => {
                    try {
                        const valueStr = toEnglishDigits(goodsValueInput.value || '0').replace(/,/g, '');
                        const rateStr = toEnglishDigits(exchangeRateInput.value || '0').replace(/,/g, '');
                        const value = parseFloat(valueStr);
                        const rate = parseFloat(rateStr);

                        if (isNaN(value) || isNaN(rate) || value <= 0 || rate <= 0) {
                            alert('Ù„Ø·ÙØ§ Ù…Ù‚Ø§Ø¯ÛŒØ± Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯.');
                            return;
                        }

                        const goodsValueRial = Math.floor(value * rate);
                        const freight = Math.floor(goodsValueRial * 0.10);
                        const insurance = Math.floor((goodsValueRial + freight) * 0.005);
                        const cif = goodsValueRial + freight + insurance;
                        const waste = Math.floor(cif * 0.005);
                        const duty = Math.floor(cif * 0.04);
                        const redCrescent = Math.floor(duty * 0.01);
                        const vat = Math.floor((cif + duty) * 0.10);
                        const total = Math.floor(waste + duty + redCrescent + vat);

                        document.getElementById('result-goods-value-rial').textContent = goodsValueRial.toLocaleString('en-US');
                        document.getElementById('result-freight').textContent = freight.toLocaleString('en-US');
                        document.getElementById('result-insurance').textContent = insurance.toLocaleString('en-US');
                        document.getElementById('result-cif').textContent = cif.toLocaleString('en-US');
                        document.getElementById('result-waste').textContent = waste.toLocaleString('en-US');
                        document.getElementById('result-duty').textContent = duty.toLocaleString('en-US');
                        document.getElementById('result-red-crescent').textContent = redCrescent.toLocaleString('en-US');
                        document.getElementById('result-vat').textContent = vat.toLocaleString('en-US');
                        document.getElementById('result-total').textContent = total.toLocaleString('en-US');

                        resultArea.classList.remove('hidden');
                    } catch (error) {
                        console.error("Calculator error:", error);
                        alert('Ø®Ø·Ø§ÛŒÛŒ Ø¯Ø± Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø±Ø® Ø¯Ø§Ø¯. Ù„Ø·ÙØ§ ÙˆØ±ÙˆØ¯ÛŒ Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯.');
                    }
                });
            }

            // --- Floating Action Button ---
            const fab = document.getElementById('fab-google-form');
            if(fab) {
                window.addEventListener('scroll', () => {
                    if (window.scrollY > 300) {
                        fab.classList.remove('hidden');
                    } else {
                        fab.classList.add('hidden');
                    }
                });
            }

            // --- AI Chat Modal Logic ---
            const chatModal = document.getElementById('ai-chat-modal');
            const chatBackdrop = document.getElementById('chat-backdrop');
            const toggleButton = document.getElementById('ai-modal-toggle');
            const closeButton = chatModal.querySelector('.chat-close-btn');
            const chatForm = chatModal.querySelector('.chat-input-form');
            const chatInput = chatModal.querySelector('input');
            const messagesContainer = chatModal.querySelector('.chat-messages');
            const sendButton = chatForm.querySelector('button');

            function toggleChat(show) {
                const elements = [chatModal, chatBackdrop];
                if (show) {
                    elements.forEach(el => el.classList.remove('hidden'));
                    setTimeout(() => elements.forEach(el => el.classList.add('active')), 10);
                } else {
                    elements.forEach(el => el.classList.remove('active'));
                    setTimeout(() => elements.forEach(el => el.classList.add('hidden')), 300);
                }
            }

            if (toggleButton) toggleButton.addEventListener('click', () => toggleChat(true));
            if (closeButton) closeButton.addEventListener('click', () => toggleChat(false));
            if (chatBackdrop) chatBackdrop.addEventListener('click', () => toggleChat(false));

            if (chatForm) {
                chatForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const userMessage = chatInput.value.trim();
                    if (!userMessage) return;

                    addMessage(userMessage, 'user');
                    chatInput.value = '';
                    sendButton.disabled = true;
                    showTypingIndicator(true);

                    const context = `
                        Ø´Ù…Ø§ ÛŒÚ© Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ùˆ Ù…ØªØ®ØµØµ Ø§Ø² "Ú¯Ø±ÙˆÙ‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù†" Ù‡Ø³ØªÛŒØ¯. Ù‡ÙˆÛŒØª Ø´Ù…Ø§ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒØŒ Ø±Ø§Ù‡Ù†Ù…Ø§ Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ø³Øª.
                        ØªØ®ØµØµâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø´Ù…Ø§ Ø¹Ø¨Ø§Ø±ØªÙ†Ø¯ Ø§Ø²:
                        1.  Ø§Ù…ÙˆØ± Ø­Ù‚ÙˆÙ‚ÛŒ: ØªØ¬Ø§Ø±Øª, Ù‚Ø§Ù†ÙˆÙ† Ú©Ø§Ø±, ØªØ§Ù…ÛŒÙ† Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒ, Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§.
                        2.  Ø§Ù…ÙˆØ± Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ: Ø·Ø±Ø­ ØªÙˆØ¬ÛŒÙ‡ÛŒ, Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´, ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ (Ø¨Ù‡â€ŒÙˆÛŒÚ˜Ù‡ Ø¯Ø± Ù…Ù†Ø·Ù‚Ù‡ ÙˆÛŒÚ˜Ù‡ Ø³Ù„ÙÚ†Ú¯Ø§Ù†).
                        3.  Ø§Ù…ÙˆØ± Ø§Ø¯Ø§Ø±ÛŒ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù†Ø³Ø§Ù†ÛŒ: Ø¬Ø°Ø¨ Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù…, Ø§Ù…ÙˆØ± Ø¨ÛŒÙ…Ù‡.
                        4.  Ø§Ù…ÙˆØ± Ù…Ø§Ù„ÛŒ: Ø­Ø³Ø§Ø¨Ø±Ø³ÛŒ, Ù…Ø§Ù„ÛŒØ§Øª, Ø§Ù…ÙˆØ± Ø¨Ø§Ù†Ú©ÛŒ Ùˆ LC.
                        Ù…Ø®Ø§Ø·Ø¨ Ø´Ù…Ø§ Ù…Ø¯ÛŒØ±Ø§Ù† Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±Ù‡Ø§ÛŒ ØµÙ†Ø¹ØªÛŒ Ùˆ ØªÙˆÙ„ÛŒØ¯ÛŒ Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ù‡Ø³ØªÙ†Ø¯.
                        ÙˆØ¸ÛŒÙÙ‡ Ø´Ù…Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³ÙˆØ§Ù„Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª.
                        **Ù…Ù‡Ù…:** Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ù‡Ø± Ù¾Ø§Ø³Ø®ØŒ Ø­ØªÙ…Ø§Ù‹ Ø§ÛŒÙ† Ø¬Ù…Ù„Ù‡ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯: "Ø§ÛŒÙ† Ù¾Ø§Ø³Ø® ÛŒÚ© Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø§Ø³Øª Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ®ØµØµÛŒ Ø¨Ø§ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù† Ù†Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯."
                    `;
                    const fullPrompt = `${context}\n\nØ³ÙˆØ§Ù„ Ú©Ø§Ø±Ø¨Ø±: "${userMessage}"`;

                    try {
                        const aiResponse = await callGeminiAPI(fullPrompt);
                        addMessage(aiResponse, 'ai');
                    } catch (error) {
                        console.error("API Call failed:", error);
                        addMessage("Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³ Ù‡ÙˆØ´Ù…Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.", 'ai');
                    } finally {
                        showTypingIndicator(false);
                        sendButton.disabled = false;
                    }
                });
            }
            
            async function callGeminiAPI(prompt) {
                const apiKey = "AIzaSyAk5R5gjFMtpo0KlXnA2mxSGt1rJxhXG_o"; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{
                        parts: [{ text: prompt }]
                    }]
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "Ù¾Ø§Ø³Ø® Ù…Ø¹ØªØ¨Ø±ÛŒ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø³ÙˆØ§Ù„ Ø´Ù…Ø§ Ù†Ø§Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø¨Ø§Ø´Ø¯.";
                }
            }

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-message ${sender}-message`;
                messageDiv.textContent = text;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }

            function showTypingIndicator(show) {
                let indicator = messagesContainer.querySelector('.typing-indicator');
                if (show) {
                    if (!indicator) {
                        indicator = document.createElement('div');
                        indicator.className = 'typing-indicator';
                        indicator.innerHTML = '<span></span><span></span><span></span>';
                        messagesContainer.appendChild(indicator);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    }
                } else {
                    if (indicator) {
                        indicator.remove();
                    }
                }
            }
        });
    </script>
</body>
</html>
