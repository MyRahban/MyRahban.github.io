<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø±Ù‡Ø¨Ø§Ù† - Ø§Ù†ØªØ®Ø§Ø¨ Ù…Ø·Ù…Ø¦Ù† Ø¨Ø±Ø§ÛŒ ØªØµÙ…ÛŒÙ… Ù‡Ø§ÛŒ Ù…Ù‡Ù…</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;500;700;800&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Vazirmatn', sans-serif;
            background-color: #f7fafc;
        }
        /* --- Smooth Scrolling Fix --- */
        html {
            scroll-behavior: smooth;
        }
        section[id] {
            scroll-margin-top: 80px; /* Adjust this value to match your header's height */
        }
        .hero-bg {
            background-image: url('https://omidajamloo.github.io/telegram/images/header-bg.jpg');
            background-size: cover;
            background-position: center center;
            position: relative;
        }
        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0; right: 0; bottom: 0; left: 0;
            background-color: rgba(21, 20, 80, 0.75);
            z-index: 1;
        }
        .content-z {
            position: relative;
            z-index: 2;
        }
        .primary-color { color: #151450; }
        .bg-primary-color { background-color: #151450; }
        .hover-bg-primary-color:hover { background-color: #0d0c3a; }
        .accent-color { color: #F06F11; }
        .bg-accent-color { background-color: #F06F11; }
        .hover-bg-accent-color:hover { background-color: #d8630c; }
        
        .service-card {
            background-color: #ffffff;
            border-radius: 1.25rem;
            padding: 2rem;
            border: 1px solid #e2e8f0;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            flex-direction: column;
        }
        .service-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .font-en {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';
        }

        /* --- AI Chat Modal Styles --- */
        .chat-backdrop {
            position: fixed;
            inset: 0;
            background-color: rgba(21, 20, 80, 0.6);
            backdrop-filter: blur(5px);
            z-index: 999;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        .chat-backdrop.active {
            opacity: 1;
            pointer-events: auto;
        }

        #ai-chat-modal {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 90vw;
            max-width: 700px;
            height: 85vh;
            max-height: 800px;
            background-color: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translate(-50%, -50%) scale(0.95);
            opacity: 0;
            transition: transform 0.3s ease, opacity 0.3s ease;
            z-index: 1000;
            pointer-events: none;
        }
        #ai-chat-modal.active {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
            pointer-events: auto;
        }
        .chat-header {
            background-color: #151450;
            color: white;
            padding: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .chat-header h3 {
            font-weight: 700;
        }
        .chat-close-btn {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
        .chat-messages {
            flex-grow: 1;
            padding: 1rem;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }
        .chat-message {
            padding: 0.75rem 1rem;
            border-radius: 18px;
            max-width: 80%;
            line-height: 1.6;
        }
        .user-message {
            background-color: #F06F11;
            color: white;
            border-bottom-right-radius: 4px;
            align-self: flex-end;
        }
        .ai-message {
            background-color: #e5e7eb;
            color: #1f2937;
            border-bottom-left-radius: 4px;
            align-self: flex-start;
        }
        .chat-input-form {
            display: flex;
            padding: 0.75rem;
            border-top: 1px solid #e2e8f0;
            direction: rtl;
        }
        .chat-input-form input {
            flex-grow: 1;
            border: 1px solid #d1d5db;
            border-radius: 20px;
            padding: 0.5rem 1rem;
        }
        .chat-input-form button {
            background-color: #151450;
            color: white;
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-right: 0.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background-color 0.2s;
        }
        .chat-input-form button:disabled {
            background-color: #9ca3af;
            cursor: not-allowed;
        }
        .typing-indicator {
            align-self: flex-start;
            padding: 0.75rem 1rem;
        }
        .typing-indicator span {
            height: 8px;
            width: 8px;
            background-color: #9ca3af;
            border-radius: 50%;
            display: inline-block;
            animation: bounce 1.4s infinite ease-in-out both;
        }
        .typing-indicator span:nth-child(1) { animation-delay: -0.32s; }
        .typing-indicator span:nth-child(2) { animation-delay: -0.16s; }
        @keyframes bounce {
            0%, 80%, 100% { transform: scale(0); }
            40% { transform: scale(1.0); }
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <header class="bg-white/80 backdrop-blur-sm sticky top-0 z-50 shadow-sm">
        <!-- Header content remains the same -->
    </header>

    <main>
        <!-- Main content sections (hero, services, etc.) remain the same -->
    </main>
    
    <footer id="contact" class="bg-primary-color text-white">
        <!-- Footer content remains the same -->
    </footer>

    <!-- AI Chat Modal -->
    <div id="chat-backdrop" class="chat-backdrop hidden"></div>
    <div id="ai-chat-modal" class="hidden">
        <div class="chat-header">
            <h3>Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ø±Ù‡Ø¨Ø§Ù†</h3>
            <button class="chat-close-btn">&times;</button>
        </div>
        <div class="chat-messages">
            <div class="chat-message ai-message">Ø³Ù„Ø§Ù…! Ú†Ø·ÙˆØ± Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ù… Ø¨Ù‡ Ø´Ù…Ø§ Ú©Ù…Ú© Ú©Ù†Ù…ØŸ Ø³ÙˆØ§Ù„ Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ø²Ù…ÛŒÙ†Ù‡ Ø­Ù‚ÙˆÙ‚ Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø± ÛŒØ§ Ø§Ù…ÙˆØ± Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ Ø¨Ù¾Ø±Ø³ÛŒØ¯.</div>
        </div>
        <form class="chat-input-form">
            <input type="text" placeholder="Ù¾ÛŒØ§Ù… Ø®ÙˆØ¯ Ø±Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯..." autocomplete="off">
            <button type="submit">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z" /></svg>
            </button>
        </form>
    </div>

    <!-- Floating Action Button -->
    <a href="https://forms.gle/cJdyKmKY4Y4HRQHKA" target="_blank" id="fab-google-form" class="hidden fixed bottom-8 right-8 bg-accent-color text-white w-16 h-16 rounded-full flex items-center justify-center text-3xl shadow-lg transform hover:scale-110 transition-transform z-40 opacity-80 hover:opacity-100" title="ÙØ±Ù… Ù†Ø¸Ø±Ø³Ù†Ø¬ÛŒ/Ø¯Ø±Ø®ÙˆØ§Ø³Øª">
        ğŸ“
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // --- Mobile Menu Logic (remains the same) ---

            // --- Calculator Logic (remains the same) ---

            // --- Floating Action Button Logic (remains the same) ---

            // --- AI Chat Modal Logic (Updated with Contextual Prompting) ---
            const chatModal = document.getElementById('ai-chat-modal');
            const chatBackdrop = document.getElementById('chat-backdrop');
            const toggleButton = document.getElementById('ai-modal-toggle');
            const closeButton = chatModal.querySelector('.chat-close-btn');
            const chatForm = chatModal.querySelector('.chat-input-form');
            const chatInput = chatModal.querySelector('input');
            const messagesContainer = chatModal.querySelector('.chat-messages');
            const sendButton = chatForm.querySelector('button');

            function toggleChat(show) {
                const elements = [chatModal, chatBackdrop];
                if (show) {
                    elements.forEach(el => el.classList.remove('hidden'));
                    setTimeout(() => elements.forEach(el => el.classList.add('active')), 10);
                } else {
                    elements.forEach(el => el.classList.remove('active'));
                    setTimeout(() => elements.forEach(el => el.classList.add('hidden')), 300);
                }
            }

            if (toggleButton) toggleButton.addEventListener('click', () => toggleChat(true));
            if (closeButton) closeButton.addEventListener('click', () => toggleChat(false));
            if (chatBackdrop) chatBackdrop.addEventListener('click', () => toggleChat(false));

            if (chatForm) {
                chatForm.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const userMessage = chatInput.value.trim();
                    if (!userMessage) return;

                    addMessage(userMessage, 'user');
                    chatInput.value = '';
                    sendButton.disabled = true;
                    showTypingIndicator(true);

                    // --- CONTEXTUAL PROMPT ---
                    const context = `
                        Ø´Ù…Ø§ ÛŒÚ© Ø¯Ø³ØªÛŒØ§Ø± Ù‡ÙˆØ´Ù…Ù†Ø¯ Ùˆ Ù…ØªØ®ØµØµ Ø§Ø² "Ú¯Ø±ÙˆÙ‡ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù†" Ù‡Ø³ØªÛŒØ¯. Ù‡ÙˆÛŒØª Ø´Ù…Ø§ Ø­Ø±ÙÙ‡â€ŒØ§ÛŒØŒ Ø±Ø§Ù‡Ù†Ù…Ø§ Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø§Ø³Øª.
                        ØªØ®ØµØµâ€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø´Ù…Ø§ Ø¹Ø¨Ø§Ø±ØªÙ†Ø¯ Ø§Ø²:
                        1.  Ø§Ù…ÙˆØ± Ø­Ù‚ÙˆÙ‚ÛŒ: ØªØ¬Ø§Ø±ØªØŒ Ù‚Ø§Ù†ÙˆÙ† Ú©Ø§Ø±ØŒ ØªØ§Ù…ÛŒÙ† Ø§Ø¬ØªÙ…Ø§Ø¹ÛŒØŒ Ù‚Ø±Ø§Ø±Ø¯Ø§Ø¯Ù‡Ø§.
                        2.  Ø§Ù…ÙˆØ± Ø¨Ø§Ø²Ø±Ú¯Ø§Ù†ÛŒ: Ø·Ø±Ø­ ØªÙˆØ¬ÛŒÙ‡ÛŒØŒ Ø«Ø¨Øª Ø³ÙØ§Ø±Ø´ØŒ ØªØ±Ø®ÛŒØµ Ú©Ø§Ù„Ø§ (Ø¨Ù‡â€ŒÙˆÛŒÚ˜Ù‡ Ø¯Ø± Ù…Ù†Ø·Ù‚Ù‡ ÙˆÛŒÚ˜Ù‡ Ø³Ù„ÙÚ†Ú¯Ø§Ù†).
                        3.  Ø§Ù…ÙˆØ± Ø§Ø¯Ø§Ø±ÛŒ Ùˆ Ù…Ù†Ø§Ø¨Ø¹ Ø§Ù†Ø³Ø§Ù†ÛŒ: Ø¬Ø°Ø¨ Ùˆ Ø§Ø³ØªØ®Ø¯Ø§Ù…ØŒ Ø§Ù…ÙˆØ± Ø¨ÛŒÙ…Ù‡.
                        4.  Ø§Ù…ÙˆØ± Ù…Ø§Ù„ÛŒ: Ø­Ø³Ø§Ø¨Ø±Ø³ÛŒØŒ Ù…Ø§Ù„ÛŒØ§ØªØŒ Ø§Ù…ÙˆØ± Ø¨Ø§Ù†Ú©ÛŒ Ùˆ LC.
                        Ù…Ø®Ø§Ø·Ø¨ Ø´Ù…Ø§ Ù…Ø¯ÛŒØ±Ø§Ù† Ú©Ø³Ø¨â€ŒÙˆÚ©Ø§Ø±Ù‡Ø§ÛŒ ØµÙ†Ø¹ØªÛŒ Ùˆ ØªÙˆÙ„ÛŒØ¯ÛŒ Ø¯Ø± Ø§ÛŒØ±Ø§Ù† Ù‡Ø³ØªÙ†Ø¯.
                        ÙˆØ¸ÛŒÙÙ‡ Ø´Ù…Ø§ Ø§Ø±Ø§Ø¦Ù‡ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ùˆ Ø±Ø§Ù‡Ù†Ù…Ø§ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø³ÙˆØ§Ù„Ø§Øª Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª.
                        **Ù…Ù‡Ù…:** Ø¯Ø± Ø§Ù†ØªÙ‡Ø§ÛŒ Ù‡Ø± Ù¾Ø§Ø³Ø®ØŒ Ø­ØªÙ…Ø§Ù‹ Ø§ÛŒÙ† Ø¬Ù…Ù„Ù‡ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯: "Ø§ÛŒÙ† Ù¾Ø§Ø³Ø® ÛŒÚ© Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒÛŒ Ø§ÙˆÙ„ÛŒÙ‡ Ø§Ø³Øª Ùˆ Ø¬Ø§ÛŒÚ¯Ø²ÛŒÙ† Ù…Ø´Ø§ÙˆØ±Ù‡ ØªØ®ØµØµÛŒ Ø¨Ø§ Ú©Ø§Ø±Ø´Ù†Ø§Ø³Ø§Ù† Ø±Ù‡Ø¨Ø§Ù† Ù†Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯."
                    `;
                    const fullPrompt = `${context}\n\nØ³ÙˆØ§Ù„ Ú©Ø§Ø±Ø¨Ø±: "${userMessage}"`;

                    try {
                        const aiResponse = await callGeminiAPI(fullPrompt);
                        addMessage(aiResponse, 'ai');
                    } catch (error) {
                        console.error("API Call failed:", error);
                        addMessage("Ù…ØªØ§Ø³ÙØ§Ù†Ù‡ Ø¯Ø± Ø­Ø§Ù„ Ø­Ø§Ø¶Ø± Ø§Ù…Ú©Ø§Ù† Ø¨Ø±Ù‚Ø±Ø§Ø±ÛŒ Ø§Ø±ØªØ¨Ø§Ø· Ø¨Ø§ Ø³Ø±ÙˆÛŒØ³ Ù‡ÙˆØ´Ù…Ù†Ø¯ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯. Ù„Ø·ÙØ§Ù‹ Ø¨Ø¹Ø¯Ø§Ù‹ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯.", 'ai');
                    } finally {
                        showTypingIndicator(false);
                        sendButton.disabled = false;
                    }
                });
            }

            async function callGeminiAPI(prompt) {
                // The API key you provided has been restored here.
                const apiKey = "AIzaSyAk5R5gjFMtpo0KlXnA2mxSGt1rJxhXG_o"; 
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;
                
                const payload = {
                    contents: [{
                        parts: [{ text: prompt }]
                    }]
                };

                const response = await fetch(apiUrl, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(payload)
                });

                if (!response.ok) {
                    throw new Error(`API request failed with status ${response.status}`);
                }

                const result = await response.json();
                
                if (result.candidates && result.candidates.length > 0 && result.candidates[0].content.parts.length > 0) {
                    return result.candidates[0].content.parts[0].text;
                } else {
                    return "Ù¾Ø§Ø³Ø® Ù…Ø¹ØªØ¨Ø±ÛŒ Ø§Ø² Ø³Ø±ÙˆÛŒØ³ Ø¯Ø±ÛŒØ§ÙØª Ù†Ø´Ø¯. Ù…Ù…Ú©Ù† Ø§Ø³Øª Ø³ÙˆØ§Ù„ Ø´Ù…Ø§ Ù†Ø§Ù‚Ø¶ Ù‚ÙˆØ§Ù†ÛŒÙ† Ø§ÛŒÙ…Ù†ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø¨Ø§Ø´Ø¯.";
                }
            }

            function addMessage(text, sender) {
                const messageDiv = document.createElement('div');
                messageDiv.className = `chat-message ${sender}-message`;
                messageDiv.textContent = text;
                messagesContainer.appendChild(messageDiv);
                messagesContainer.scrollTop = messagesContainer.scrollHeight;
            }
            
            function showTypingIndicator(show) {
                let indicator = messagesContainer.querySelector('.typing-indicator');
                if (show) {
                    if (!indicator) {
                        indicator = document.createElement('div');
                        indicator.className = 'typing-indicator';
                        indicator.innerHTML = '<span></span><span></span><span></span>';
                        messagesContainer.appendChild(indicator);
                        messagesContainer.scrollTop = messagesContainer.scrollHeight;
                    }
                } else {
                    if (indicator) {
                        indicator.remove();
                    }
                }
            }
        });
    </script>
</body>
</html>
